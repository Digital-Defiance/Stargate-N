{"version":3,"file":"stargate-n.esm.js","sources":["../src/entities/_abstract.ts","../src/entities/chevron.ts"],"sourcesContent":["import Photon from \"./photon\";\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\n// â‡¨ '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d'\r\nexport type uuid = string\r\n\r\n\r\n\r\n\r\nexport default abstract class Machine {\r\n  id: uuid;\r\n\r\n  constructor() {\r\n    this.id = uuidv4();\r\n  }\r\n\r\n  abstract process(photons: Photon[]): Photon[]\r\n}\r\n\r\nexport abstract class Particle { }\r\n","import Photon from \"./photon\";\r\nimport Machine from \"./_abstract\";\r\n\r\n\r\ntype QuantumOperation = (photon: Photon) => Photon\r\n\r\n\r\nclass Chevron extends Machine {\r\n  pass: QuantumOperation[];\r\n  orientation: 1 | -1;\r\n  next?: Chevron;\r\n  imprint?: Photon[];\r\n\r\n  constructor(next: Chevron, pass: QuantumOperation[], orientation: 1 | -1) {\r\n    super()\r\n    this.pass = pass;\r\n    this.orientation = orientation;\r\n    this.next = next;\r\n  }\r\n\r\n  process(photons: Photon[]): Photon[] {\r\n    if (this.next === undefined) throw Error(\r\n      \"`Chevron().next` is undefined in `Chevron().process`.\"\r\n    )\r\n\r\n    const processed: Photon[] = this.next.process(\r\n      photons.map((photon: Photon) => {\r\n        let newPhoton = photon\r\n        for (let transformation of this.pass)\r\n          newPhoton = transformation(newPhoton) // we can apply lots off stuff here\r\n        return photon\r\n      })\r\n    )\r\n\r\n    this.imprint = processed\r\n    return processed\r\n  }\r\n\r\n  render() {\r\n    if (!this.imprint) throw Error(\"Chevron hasn't been imprinted yet.\")\r\n\r\n\r\n    // use photon properties to draw something innteresting\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default Chevron"],"names":["Machine","id","uuidv4","Chevron","next","pass","orientation","process","photons","undefined","Error","processed","map","photon","newPhoton","transformation","imprint","render"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAS8BA,UAG5B;EACE,KAAKC,EAAL,GAAUC,EAAM,EAAhB;AACD;;ICPGC;;;EAMJ,iBAAYC,IAAZ,EAA2BC,IAA3B,EAAqDC,WAArD;;;IACE;IACA,MAAKD,IAAL,GAAYA,IAAZ;IACA,MAAKC,WAAL,GAAmBA,WAAnB;IACA,MAAKF,IAAL,GAAYA,IAAZ;;;;;;SAGFG,UAAA,iBAAQC,OAAR;;;IACE,IAAI,KAAKJ,IAAL,KAAcK,SAAlB,EAA6B,MAAMC,KAAK,CACtC,uDADsC,CAAX;IAI7B,IAAMC,SAAS,GAAa,KAAKP,IAAL,CAAUG,OAAV,CAC1BC,OAAO,CAACI,GAAR,CAAY,UAACC,MAAD;MACV,IAAIC,SAAS,GAAGD,MAAhB;;MACA,qDAA2B,MAAI,CAACR,IAAhC,wCACE;QAAA,IADOU,cACP;QAAAD,SAAS,GAAGC,cAAc,CAACD,SAAD,CAA1B;;;;MACF,OAAOD,MAAP;KAJF,CAD0B,CAA5B;IASA,KAAKG,OAAL,GAAeL,SAAf;IACA,OAAOA,SAAP;;;SAGFM,SAAA;IACE,IAAI,CAAC,KAAKD,OAAV,EAAmB,MAAMN,KAAK,CAAC,oCAAD,CAAX;;;;EAhCDV;;;;"}